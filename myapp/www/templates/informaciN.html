<ion-view title="Información" id="page2"  cache-view="false">
  <ion-nav-buttons side="left" class="has-header">
    <a ui-sref="tabsController.listaDeVehiculos()" class="button back-button buttons button-clear header-item">
      <i class="icon ion-android-arrow-back"></i> <span class="back-text"></span>
    </a>
  </ion-nav-buttons>
  <ion-content padding="true" class="has-header">
    <div ng-controller="DBControllerOneVehiculo">
    <div ng-repeat="item in selectedVehicle">
    <div>
      <button class="button button-fab button-fab-top-right button-dark icon ion-edit animated fadeIn" style="position: fixed !important;" ui-sref="modificarInformacion()" id="modInfo"> </button>
    </div>
    <div class="row animated fadeIn">
      <div class = "col col-100 align-center" style="margin: 0px; padding-top: 20px" id="divFoto" ng-click="tada()">
        <img id="foto" src="{{item.imagen}}" style="vertical-align: left; height: 200px; width: 200px; border-radius: 100px">
      </div>
    </div>
    <div class="row">
      <div class = "col col-50 animated fadeInLeft">
        <div style="padding-top: 15px; padding-left: 5px">
          <p><strong> Alias: </strong> {{item.alias}} </p>
          <p><strong> Placa: </strong> {{item.placa}} </p>
          <p><strong> Marca: </strong> {{item.marca}} </p>
          <p><strong> Año: </strong> {{item.year}} </p>
          <p><strong> Color: </strong> {{item.color}} </p>
        </div>
      </div>
      <div class="col col-50 animated fadeInRight">
        <div class="row" style="padding-top: 15px;">
          <div id="informaciN-markdown1" class="show-list-numbers-and-dots">
            <p style="color:#000000;">
              <strong>Kilometraje:</strong>
            </p>
          </div>
        </div>
        <div class="row">
          <form id="actualizarKilometrajeForm" name="actualizarKilometrajeForm" class="list" novalidate>
            <label class="item item-input" id="informaciN-input3" style="border-bottom: solid 1px #ccc !important">
              <input ng-model="updatedKm.km" ng-min="{{item.kilometraje}}" name="updatedKm" id="KmToUpdate" ng-maxlength="7" type="number" ng-required="true">
            </label>
          </form>
        </div>
        <div class="row" style="padding-top: 15px;">
          <button class="button icon-left ion-speedometer button-energized button-small" ng-click="actualizarKilometraje('{{item.placa}}')" ng-disabled="actualizarKilometrajeForm.$invalid" >
          Guardar
          </button>
          <br>
        </div>
      </div>
    </div>


    <div id="informaciN-markdown2" class="show-list-numbers-and-dots animated fadeInUp" style="padding-top: 20px;">
      <p style="color:#000000;">
        <h4><strong>Próximos Mantenimientos:</strong></h4>
      </p>
      <div ng-repeat="item1 in selectedVehicleMantenimientosFecha | orderBy:'fecha' |limitTo:1 ">
        <div class="row ion-android-calendar" style="color: black;">
          <div class="col col-100">
            <p><span class="bold"> Por Fecha: </span> {{item1.nombre}} </p>
          </div>
        </div>
        <div class="row">
          <div class="col col-100">
            <p>{{item1.fecha}}</p>
          </div>
        </div>
      </div>
      <div ng-repeat="item2 in selectedVehicleMantenimientosKm | orderBy:'falta' |limitTo:1 ">
        <div class="row ion-speedometer" style="color: black;">
          <div class="col col-100">
            <p><span class="bold"> Por Kilometraje: </span>{{item2.nombre}}</p>
          </div>
        </div>
        <div class="row">
          <div class="col col-100">
            <p>{{item2.falta}}</p>
          </div>
        </div>
      </div>
    </div>

    <div id="informaciN-markdown3" class="show-list-numbers-and-dots" style="padding-top: 20px">
        <p style="color:#000000;">
          <h4><strong>Mantenimientos del vehículo:</strong></h4>
        </p>
    </div>
    <div id="serviciosDeVehiculo" ng-repeat="item in selectedVehicleServices">
      <div class="row">

              <div class = "col col-75">
                <p>{{item.nombre}}</p>
              </div>
              <div class = "col col-12" >

                <a ui-sref="editarServicio()" ng-click="editarServicio('{{item.id}}', '{{item.nombre}}', '{{item.idTipoIntervalo}}', '{{item.intervalo}}', '{{item.ultimoRealizado}}' )" class="icon ion-android-settings" style="font-size: 30px; background-color: #FFFFFF; border:none; vertical-align: middle; color:#666666"></a>
              </div>
              <div class = "col col-12">
                <a class="icon ion-trash-a" style="font-size: 30px; background-color: #FFFFFF; border:none; vertical-align: middle; color:#bfbfbf;" ng-click="popUpEliminarServicio('{{item.id}}','{{item.nombre}}')"></a>

              </div>

            </div>

    </div>



      <button ui-sref="agregarServicioPersonalizado()" id="informaciN-button1" class="button button-stable button-block">Agregar Servicio Perzonalizado</button>
      <button id="informaciN-button2" class="button button-positive button-block" ng-click="puEVehiculo()">Eliminar Vehículo</button>
    </div>
    <div class="spacer" style="height: 5px;"></div>
    </div>
  </ion-content>
</ion-view>
